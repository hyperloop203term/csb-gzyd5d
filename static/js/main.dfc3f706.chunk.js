(this["webpackJsonprsk-github-issues-example"]=this["webpackJsonprsk-github-issues-example"]||[]).push([[0],{175:function(e,a,t){},176:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=(t(77),t(7)),c=(t(78),t(79),t(28)),l=t(186),u=t(180),i=t(65),o=t(184),m=t(14),p=t(185),b=t(178),E=t(51),f=t(181),g=t(182),v=t(179),_=t(9),d=t(188),O=t(64),h=t.n(O),j=function(e){return e?function(e){return 2===Object.keys(e).length&&e.first&&e.prev}(e)?parseInt(e.prev.page,10)+1:e.last?parseInt(e.last.page,10):0:0};var N=new l.a,y=new l.a,I=function(e){y.next(e)},L=new l.a,k=function(){L.next(null)},C=Object(_.b)(N.pipe(Object(o.a)({org:"rails",repo:"rails"}))),P=Object(s.a)(C,2),S=P[0],x=P[1],w=Object(u.a)(x.pipe(Object(m.a)((function(e){return Object(c.a)(Object(c.a)({},e),{},{page:1})}))),y.pipe(Object(p.a)(x),Object(m.a)((function(e){var a=Object(s.a)(e,2),t=a[0],n=a[1];return Object(c.a)(Object(c.a)({},n),{},{page:t})})))).pipe(Object(_.c)()),D=Object(_.b)(w.pipe(Object(b.a)("page"))),F=Object(s.a)(D,1)[0],U=Object(_.b)(w.pipe(Object(E.a)((function(e){var a=e.page,t=e.repo;return function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n="https://api.github.com/repos/".concat(e,"/").concat(a,"/issues?per_page=25&page=").concat(t);return d.a.get(n).pipe(Object(m.a)((function(e){var a=0,t=h()(e.xhr.getResponseHeader("link"));return null!==t&&(a=j(t)),{pageLinks:t,pageCount:a,issues:e.response}})))}(e.org,t,a).pipe(Object(o.a)(_.a))})))),z=Object(s.a)(U,2),A=z[0],W=z[1],Z=Object(_.b)(x.pipe(Object(E.a)((function(e){return function(e,a){var t="https://api.github.com/repos/".concat(e,"/").concat(a);return d.a.getJSON(t).pipe(Object(b.a)("open_issues_count"))}(e.org,e.repo).pipe(Object(o.a)(_.a))})))),B=Object(s.a)(Z,2),R=B[0],J=B[1];w.pipe(Object(f.a)(Object(u.a)(W,J).pipe(Object(g.a)((function(){return i.a}))))).subscribe();var M=Object(_.b)(L.pipe(Object(o.a)(null))),T=Object(s.a)(M,2),K=T[0],V=T[1],$=Object(_.b)(V.pipe(Object(v.a)((function(e){return null!==e})),Object(p.a)(x),Object(E.a)((function(e){var a=Object(s.a)(e,2),t=a[0],n=a[1];return function(e,a,t){var n="https://api.github.com/repos/".concat(e,"/").concat(a,"/issues/").concat(t);return d.a.getJSON(n)}(n.org,n.repo,t).pipe(Object(o.a)(_.a))})))),q=Object(s.a)($,2),H=q[0],Q=q[1],Y=Object(_.b)(Q.pipe(Object(v.a)((function(e){return e!==_.a})),Object(E.a)((function(e){return(a=e.comments_url,d.a.getJSON(a)).pipe(Object(o.a)(_.a));var a})))),X=Object(s.a)(Y,2),G=X[0],ee=X[1];V.pipe(Object(f.a)(ee.pipe(Object(g.a)((function(){return i.a}))))).subscribe();var ae=function(){var e=Object(n.useState)("rails"),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)("rails"),u=Object(s.a)(l,2),i=u[0],o=u[1],m=F(),p=Object(n.useState)(m.toString()),b=Object(s.a)(p,2),E=b[0],f=b[1];Object(n.useEffect)((function(){return f(m.toString())}),[m]);return r.a.createElement("form",{className:"pure-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"org",style:{marginRight:5}},"Org:"),r.a.createElement("input",{name:"org",value:t,onChange:function(e){c(e.target.value)}}),r.a.createElement("label",{htmlFor:"repo",style:{marginRight:5,marginLeft:10}},"Repo:"),r.a.createElement("input",{name:"repo",value:i,onChange:function(e){o(e.target.value)}}),r.a.createElement("button",{type:"button",className:"pure-button pure-button-primary",style:{marginLeft:5},onClick:function(){var e,a;e=t,a=i,N.next({org:e,repo:a})}},"Load Repo")),r.a.createElement("div",{style:{marginTop:5}},r.a.createElement("label",{htmlFor:"jumpToPage",style:{marginRight:5}},"Issues Page:"),r.a.createElement("input",{name:"jumpToPage",value:E,onChange:function(e){f(e.target.value)}}),r.a.createElement("button",{type:"button",className:"pure-button pure-button-primary",style:{marginLeft:5},onClick:function(){var e=parseInt(E);e>=1&&I(e)}},"Jump to Page")))},te=t(40);function ne(){var e=S(),a=e.org,t=e.repo;return r.a.createElement("span",null,r.a.createElement("a",{href:"https://github.com/".concat(a),className:"header__org"},a)," / ",r.a.createElement("a",{href:"https://github.com/".concat(a,"/").concat(t),className:"header__repo"},t))}function re(){var e=R();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"header__openIssues"},e)," open"," ",1===e?"issue":"issues"," for ")}function se(){return r.a.createElement("h1",null,r.a.createElement(n.Suspense,{fallback:"Open issues for "},r.a.createElement(re,null)),r.a.createElement(ne,null))}function ce(e){return e.replace(/\B(@([a-zA-Z0-9](-?[a-zA-Z0-9_])+))/g,"**[$1](https://github.com/$2)**")}var le=t(5),ue=t.n(le),ie=function(e){var a=e.labels,t=e.className;return r.a.createElement("div",{className:ue()("issue__labels",t)},a.map((function(e){return r.a.createElement("span",{key:e.id,className:"issue__label",style:{boxShadow:"0 0 2px #".concat(e.color),borderColor:"#".concat(e.color)}},e.name)})))},oe=t(16),me=t(24),pe=t.n(me),be=function(e){var a,t=e.user,n=e.orientation,s=void 0===n?"vertical":n,c=e.link,l=void 0===c||c,u=e.classes,i=void 0===u?{}:u,o=ue()(pe.a.issueUser,(a={},Object(oe.a)(a,pe.a.vertical,"vertical"===s),Object(oe.a)(a,pe.a.horizontal,"horizontal"===s),a)),m=ue()(pe.a.avatar,i.avatar),p=ue()(pe.a.username,i.username),b=r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:m,src:t.avatar_url,alt:""}),r.a.createElement("div",{className:p},t.login));return l?r.a.createElement("a",{href:"https://github.com/".concat(t.login),className:o},b):r.a.createElement("span",{className:o},b)},Ee=t(29),fe=t.n(Ee),ge=function(e){var a=e.number,t=e.title,n=e.labels,s=e.user,c=e.comments,l=e.body,u=void 0===l?"":l,i=1===c?"comment":"comments";return r.a.createElement("div",{className:fe.a.issue},r.a.createElement(be,{user:s}),r.a.createElement("div",{className:"issue__body"},r.a.createElement("a",{href:"#comments",onClick:function(e){var t;e.preventDefault(),e.stopPropagation(),t=a,L.next(t)}},r.a.createElement("span",{className:fe.a.number},"#",a),r.a.createElement("span",{className:fe.a.title},t)),r.a.createElement("br",null)," (",c," ",i,")",r.a.createElement("p",{className:"issue__summary"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:140,t=e.replace(/\\r\\n/g,"\n");if(t.length<=a)return t;var n=" ...",r=t.substr(0,141);if(/\W$/.test(r))return r.substr(0,140)+n;for(var s=r.length;--s;)if(/\W/.test(r[s]))return r.substr(0,s)+n;return r.substr(0,140)+n}(u)),r.a.createElement(ie,{labels:n,className:fe.a.label})))},ve=t(66),_e=t.n(ve),de=function(){var e=A().issues.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(ge,e))}));return r.a.createElement("ul",{className:_e.a.issuesList},e)},Oe=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(de,null))},he=t(67),je=t.n(he),Ne=t(68),ye=t.n(Ne),Ie=(t(92),function(){var e=F()-1,a=A().pageCount;return 0===a?null:r.a.createElement("div",{className:ue()("issuesPagination",ye.a.pagination)},r.a.createElement(je.a,{forcePage:e,pageCount:a,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var a=e.selected;return I(a+1)},nextLabel:"\u2192",previousLabel:"\u2190"}))}),Le=function(){return r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(Ie,null))},ke=t(183),Ce=t(187),Pe=function(e){var a=e.error,t=e.resetErrorBoundary;return Object(n.useEffect)((function(){var e=w.pipe(Object(ke.a)(1),Object(Ce.a)(1)).subscribe(t);return function(){return e.unsubscribe()}}),[t]),r.a.createElement("div",null,r.a.createElement("h1",null,"Something went wrong..."),r.a.createElement("div",null,a&&a.message))},Se=function(){return r.a.createElement(te.ErrorBoundary,{FallbackComponent:Pe},r.a.createElement("div",{id:"issue-list-page"},r.a.createElement(se,null),r.a.createElement(Oe,null),r.a.createElement(Le,null)))},xe=t(41),we=t.n(xe),De=t(30),Fe=t.n(De),Ue=function(e){var a=e.issue.state;return r.a.createElement("span",{className:ue()("issue-detail__state",Fe.a.issueState,Object(oe.a)({},Fe.a.open,"open"===a))},a)},ze=function(e){var a=e.issue;return r.a.createElement("span",{className:ue()("issue-detail__number",Fe.a.number)},"#",a.number)},Ae=function(e){var a=e.issue;return r.a.createElement("div",{className:ue()("issue-detail__meta",Fe.a.meta)},r.a.createElement(ze,{issue:a}),r.a.createElement(Ue,{issue:a}),r.a.createElement(be,{user:a.user,orientation:"horizontal"}))},We=t(25),Ze=t.n(We);function Be(e){var a=e.comment;return r.a.createElement("div",{className:Ze.a.comment},r.a.createElement(be,{user:a.user,classes:{avatar:Ze.a.avatar,username:Ze.a.username},orientation:"horizontal"}),r.a.createElement("div",{className:Ze.a.body},r.a.createElement(we.a,{className:"markdown",source:ce(a.body)})))}var Re=function(){var e=G();return r.a.createElement("ul",{className:Ze.a.commentsList},e.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(Be,{comment:e}))})))},Je=t(26),Me=t.n(Je),Te=(t(175),function(){return 0===H().comments?r.a.createElement("div",{className:"issue-detail--no-comments"},"No comments"):r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{className:"issue-detail--comments-loading"},"Coments loading...")},r.a.createElement(Re,null))}),Ke=function(){return r.a.createElement("button",{className:"pure-button",onClick:k},"Back to Issues List")},Ve=function(){var e=H();return r.a.createElement("div",{className:ue()("issueDetailsPage",Me.a.issueDetailsPage)},r.a.createElement("h1",{className:"issue-detail__title"},e.title),r.a.createElement(Ke,null),r.a.createElement(Ae,{issue:e}),r.a.createElement(ie,{labels:e.labels,className:Me.a.issueLabels}),r.a.createElement("hr",{className:Me.a.divider}),r.a.createElement("div",{className:Me.a.summary},r.a.createElement(we.a,{className:"testing",source:ce(e.body)})),r.a.createElement("hr",{className:Me.a.divider}))},$e=function(e){var a=e.children;return r.a.createElement("div",{className:"issue-detail--loading"},r.a.createElement(Ke,null),a)},qe=function(e){var a=e.error;return r.a.createElement($e,null,r.a.createElement("p",null,"Something went wrong..."),r.a.createElement("p",null,a.message))},He=function(e){var a=e.id;return r.a.createElement("div",null,r.a.createElement(te.ErrorBoundary,{FallbackComponent:qe},r.a.createElement(n.Suspense,{fallback:r.a.createElement($e,null,r.a.createElement("p",null,"Loading issue #",a,"..."))},r.a.createElement(Ve,null),r.a.createElement(Te,null))))},Qe=function(){var e=K();return null===e?null:r.a.createElement(He,{id:e})},Ye=function(){return null===K()?r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,null),r.a.createElement(Se,null)):null};a.default=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ye,null),r.a.createElement(Qe,null))}},24:function(e,a,t){e.exports={issueUser:"UserWithAvatar_issueUser__1rZ56",avatar:"UserWithAvatar_avatar__2b4Ue",username:"UserWithAvatar_username__DZB8Q",vertical:"UserWithAvatar_vertical__3VEes",horizontal:"UserWithAvatar_horizontal__3DPD3"}},25:function(e,a,t){e.exports={comment:"IssueComments_comment__2K-P3",body:"IssueComments_body__26Hu9",avatar:"IssueComments_avatar__1IClw",username:"IssueComments_username__3CX3Q",commentsList:"IssueComments_commentsList__1rPMM"}},26:function(e,a,t){e.exports={issueDetailsPage:"IssueDetailsPage_issueDetailsPage__2L9pw",issueLabels:"IssueDetailsPage_issueLabels__2xoOq",summary:"IssueDetailsPage_summary__3WqKZ",divider:"IssueDetailsPage_divider__2tP7Z"}},29:function(e,a,t){e.exports={issue:"IssueListItem_issue__2Yp8T",number:"IssueListItem_number___KKiF",title:"IssueListItem_title__1l-Lb",label:"IssueListItem_label__319aw"}},30:function(e,a,t){e.exports={issueState:"IssueMeta_issueState__39S-8",open:"IssueMeta_open__1dZwy",number:"IssueMeta_number__1Exec",meta:"IssueMeta_meta__V0kVE"}},66:function(e,a,t){e.exports={issuesList:"IssuesList_issuesList__3YTSL"}},68:function(e,a,t){e.exports={pagination:"IssuePagination_pagination__1fZ4j"}},70:function(e,a,t){e.exports=t(71)},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(63),c=t.n(s);t(76);!function(){var e=t(176).default;c.a.render(r.a.createElement(e,null),document.getElementById("root"))}()},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},92:function(e,a,t){}},[[70,1,2]]]);
//# sourceMappingURL=main.dfc3f706.chunk.js.map